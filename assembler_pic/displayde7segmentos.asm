;tabla de datos DISPLAY DE 7SEGMENTOS
#include "p18f4550.inc"
#include "config.inc"

	cblock
		CONTADOR
		i
	endc
	
	org		0x0000
	goto	SETUP
	org 	0x0020
	
SETUP:
	MOVLW	0X62
	MOVWF	OSCCON
	MOVLW	0X0F
	MOVWF	ADCON1
	CLRF	TRISD
	CLRF	CONTADOR
	
LOOP:
	MOVF	CONTADOR,W
	CALL	deco7seg
	MOVWF	LATD
	CALL	retardo_1s
	INCF	CONTADOR
	MOVLW	0X0A
	CPFSEQ	CONTADOR,W
	GOTO	LOOP
	CLRF	CONTADOR
	GOTO	LOOP
	
BCD7SEG:	DB	0X3F,0X06,0X5B,0X4F,0X66,0X6D,0X7D,0X07,0X7F,0X67

deco7seg:
	MOVWF	i
	MOVLW	UPPER	BCD7SEG
	MOVWF	TBLPTRU
	MOVLW	HIGH	BCD7SEG
	MOVWF	TBLPTRH
	MOVLW	LOW		BCD7SEG
	MOVWF	TBLPTRL
	MOVF	i,W
	ADDWF	TBLPTRL,F
	TBLRD*
	MOVF	TABLAT,W
	RETURN
	
#include "retardos.inc"
	end	
	
